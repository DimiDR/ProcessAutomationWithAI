{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Rybak/Desktop/Apps2/ProcessAutomationWithAI/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getFunctions } from \"firebase/functions\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID!,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET!,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID!,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID!,\r\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const functions = getFunctions(app);\r\n"],"names":[],"mappings":";;;;;;;;AAMU;AANV;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,MAAM,MAAM,IAAA,oLAAa,EAAC;AAEnB,MAAM,OAAO,IAAA,oMAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,YAAY,IAAA,yLAAY,EAAC","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Rybak/Desktop/Apps2/ProcessAutomationWithAI/src/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport {\r\n  signInWithEmailAndPassword,\r\n  createUserWithEmailAndPassword,\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  signOut,\r\n  User,\r\n  onAuthStateChanged,\r\n} from \"firebase/auth\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport Image from \"next/image\";\r\n\r\nexport default function AuthPage() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const isGuestRequest = urlParams.get(\"guest\") === \"true\";\r\n\r\n    if (isGuestRequest) {\r\n      handleGuestLogin();\r\n      return;\r\n    }\r\n\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setUser(user);\r\n    });\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const handleEmailAuth = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      if (isLogin) {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        const userCredential = await createUserWithEmailAndPassword(\r\n          auth,\r\n          email,\r\n          password\r\n        );\r\n        // Create user profile in Firestore\r\n        await setDoc(doc(db, \"users\", userCredential.user.uid), {\r\n          email: userCredential.user.email,\r\n          teams: [],\r\n          role: \"user\",\r\n          createdAt: new Date(),\r\n        });\r\n      }\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const provider = new GoogleAuthProvider();\r\n      const result = await signInWithPopup(auth, provider);\r\n\r\n      // Check if user exists, if not create profile\r\n      const userDocRef = doc(db, \"users\", result.user.uid);\r\n      await setDoc(\r\n        userDocRef,\r\n        {\r\n          email: result.user.email,\r\n          name: result.user.displayName,\r\n          teams: [],\r\n          role: \"user\",\r\n          createdAt: new Date(),\r\n        },\r\n        { merge: true }\r\n      );\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGuestLogin = () => {\r\n    // Guest login allows access to frontend without auth\r\n    localStorage.setItem(\"guestMode\", \"true\");\r\n    setUser({ email: \"guest@example.com\", uid: \"guest\" } as User);\r\n  };\r\n\r\n  if (user && user.uid !== \"guest\") {\r\n    window.location.href = \"/dashboard\";\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\r\n          {user?.uid === \"guest\"\r\n            ? \"Welcome, Guest!\"\r\n            : isLogin\r\n            ? \"Sign in to your account\"\r\n            : \"Create your account\"}\r\n        </h2>\r\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\r\n          {user?.uid === \"guest\"\r\n            ? \"You can explore features but won't be able to save data.\"\r\n            : isLogin\r\n            ? \"Or create a demo account\"\r\n            : \"Already have an account? Sign in\"}\r\n        </p>\r\n      </div>\r\n\r\n      {user?.uid !== \"guest\" && (\r\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n          <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n            {error && (\r\n              <div className=\"mb-4 p-3 rounded-md bg-red-50 border border-red-300 text-red-700 text-sm\">\r\n                {error}\r\n              </div>\r\n            )}\r\n\r\n            <form onSubmit={handleEmailAuth} className=\"space-y-6\">\r\n              <div>\r\n                <label\r\n                  htmlFor=\"email\"\r\n                  className=\"block text-sm font-medium text-gray-700\"\r\n                >\r\n                  Email address\r\n                </label>\r\n                <input\r\n                  id=\"email\"\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  autoComplete=\"email\"\r\n                  required\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label\r\n                  htmlFor=\"password\"\r\n                  className=\"block text-sm font-medium text-gray-700\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <input\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\r\n                >\r\n                  {loading ? \"Processing...\" : isLogin ? \"Sign in\" : \"Sign up\"}\r\n                </button>\r\n              </div>\r\n            </form>\r\n\r\n            <div className=\"mt-6\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <div className=\"w-full border-t border-gray-300\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center text-sm\">\r\n                  <span className=\"px-2 bg-white text-gray-500\">\r\n                    Or continue with\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 grid grid-cols-2 gap-3\">\r\n                <button\r\n                  onClick={handleGoogleSignIn}\r\n                  disabled={loading}\r\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50\"\r\n                >\r\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 20 20\">\r\n                    <path\r\n                      fill=\"currentColor\"\r\n                      d=\"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z\"\r\n                    />\r\n                  </svg>\r\n                  <span className=\"ml-2\">Google</span>\r\n                </button>\r\n\r\n                <button\r\n                  onClick={handleGuestLogin}\r\n                  className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\r\n                >\r\n                  Guest Access\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 text-center\">\r\n              <button\r\n                onClick={() => setIsLogin(!isLogin)}\r\n                className=\"text-sm text-indigo-600 hover:text-indigo-500\"\r\n              >\r\n                {isLogin\r\n                  ? \"Need to create an account?\"\r\n                  : \"Already have an account?\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {user?.uid === \"guest\" && (\r\n        <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n          <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n            <p className=\"text-center text-sm text-gray-600 mb-4\">\r\n              You are browsing as a guest. Start exploring the features below.\r\n            </p>\r\n            <div className=\"space-y-3\">\r\n              <a\r\n                href=\"/process-questions\"\r\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                Process Questions\r\n              </a>\r\n              <a\r\n                href=\"/canvas\"\r\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                Canvas\r\n              </a>\r\n              <a\r\n                href=\"/case-studies\"\r\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                Case Studies\r\n              </a>\r\n              <a\r\n                href=\"/simulation\"\r\n                className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700\"\r\n              >\r\n                Simulation\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}